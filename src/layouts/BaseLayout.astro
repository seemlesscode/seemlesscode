---
import Header from "@/components/Header.astro";
import Sidebar from "@/components/Sidebar.astro";
import SEO from "@/components/SEO.astro";

interface Props {
  lang?: "en" | "fr";
  title?: string;
  description?: string;
  activePage?: string;
  alternates?: Record<string, string>;
}

const {
  lang = "en",
  title = "Seemless Code",
  description = "",
  activePage = "",
  alternates = {},
}: Props = Astro.props;
---

<html lang={lang}>
  <head>
    <meta charset="UTF-8" />
    <SEO {title} {description} {lang} {alternates} />
    <link rel="stylesheet" href="/src/styles/global.css" />
  </head>
  <body>
    <aside class="drawer">
      <div id="drawer-toggle" class="drawer-toggle" role="button" tabindex="0" aria-label="Toggle sidebar">
        <span class="arrow"></span>
      </div>

      <div class="drawer-content">
        <Sidebar lang={lang} activePage={activePage} />
      </div>
    </aside>

    <div class="content">
      <Header lang={lang} alternates={alternates} activePage={activePage} />
      <main>
        <slot />
      </main>
    </div>

    <script type="module">
      import { setupSidebarToggle } from "/src/scripts/sidebar.ts";
      setupSidebarToggle();
    </script>
  </body>
</html>
